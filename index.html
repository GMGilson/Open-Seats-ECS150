<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fuck the ECS department</title>
    <link rel="stylesheet" href="/styles/css/styles.css">
</head>

<main>

    <h1>My Grievance</h1>
    <p>
        ECS 150: Operating Systems is a UC Davis Computer Science major and graduation
        requirement for Computer Science majors. Every quarter this course consistently 
        is filled to its max capacity. This website frequently checks the number of availiable seats
        for ECS 150 so you can cry your impending university mandated fith year without logging into schedule builder!
    </p>

    <div id="open-seats-container">
        <h2>There are currently</h2>
        <h2 id="open-seats"></h2>
        <h2>Seats left in ECS 150</h2>
    </div>

    <img src="UCD_logo.png" width="300px">
</main>

<script>
let counter = document.getElementById("open-seats");
setInterval(
    () => {
        fetch("/shame",{method: "GET",})
        .then((response) => {
            response.json()
            .then((body) => {
                counter.innerHTML = `${body.openseats}`
            })
            console.log(response)
    });
}, 10000);
</script>

</html>